<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bus-based Cache Simulator: Developer Manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bus-based Cache Simulator
   &#160;<span id="projectnumber">v3.0</span>
   </div>
   <div id="projectbrief">A tool for education in computing - learn about coherence protocols, replacement policies, and SMP vs DSM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Developer Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md6">Debugging Features</a><ul><li class="level2"><a href="#autotoc_md7">Write Timestamp Checking</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This page is still under construction, and more content will appear in later updates.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Debugging Features</h1>
<p>Debugging features are parts of the code which can be enabled via pre-defines. In other words, parts of the code that will be excluded from compilation if their required define is not present is a debugging feature.</p>
<p>To make use of debugging features, define them in the <code>CPPFLAGS</code> variable when executing the make command. The general format is <code>make [target] CPPFLAGS=-D&lt;pre-define&gt;</code>. When using multiple debugging features, use multiple <code>-D</code> options, separated by a space and contained in quotes.</p>
<p><b>Note:</b> It is not recommended to make use of debugging features when operating in <a class="el" href="md_docs_pages_cache_sim.html">batch metrics mode</a>, as this mode of operation is intended as a "production" mode for processing large trace files. Further, the debugging features may not make use of synchronization mechanisms, leading to undefined behavior or unintelligible output.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Write Timestamp Checking</h2>
<p>This feature is enabled with the <code>WRITE_TIMESTAMP</code> predefine.</p>
<p>The phrase 'timestamp' refers to the number of the current memory access. It is a 0-based index, meaning that a timestamp of 10, for instance, represents the 11th memory access.</p>
<p>When enabled, each cache line, in addition to its state and tag, also records the last timestamp it received a write, either through a write access, bus update message, or the first time the memory block is allocated in any cache. Whenever a read or write access is completed, the simulator checks that all valid cache lines belonging to the recently accessed address have the same timestamp. If not, the IDs of any out of date cache lines are printed, along with the details of the access, namely the address, whether it is a read or write, and the current timestamp.</p>
<p>This feature is added as a verification measure when writing code for the cache simulator, since the software does not process the actual data that is stored in a cache. The codebase can be analyzed for errors when using a debugger and setting a breakpoint in the <code><a class="el" href="classMemoryBus.html#af0f6ab8386ad93f185e06ac2904e5418" title="Check if all valid copies of a cache block have the same timestamp.">MemoryBus::verifyTimestamp</a></code> method to catch the exact moment when a cache line becomes out of date. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
